===============
Container Meals
===============

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-coopiteasy%2Faddons-lightgray.png?logo=github
    :target: https://github.com/coopiteasy/addons/tree/14.0/container_meals
    :alt: coopiteasy/addons

|badge1| |badge2| |badge3| 

This module supports a very specific business model, where customers get meals
delivered to them in glass containers. The containers are lent out and must be
returned. The customers pay a deposit on the glass containers, which they can
have refunded, or which gives them an effective perpetual discount on subsequent
purchases, where they don't have to pay the deposit on the glass containers
again.

Each meal comes in two glass containers. When two of the same meal are ordered,
those two meals also come in two glass containers total, but the glass
containers may be bigger to account for the increased volume.

This module:

- Creates an "Is Meal?" button for meal products, which enables the user to set
  the volumes of a single portion for containers 1 and 2.
- Adds a portion size product category. Child portions have 2/3 the volume of
  adult portions. This module does not adjust the price of child portions.
- Adds an "Is Container?" button for container products, which enables the user
  to set the volume of the container.
- Keeps track of the built up deposit by customers across sales.
- Allows the user to set unreturned containers on sale orders. All containers
  are assumed to be returned, and must be manually flagged as unreturned.
  Unreturned containers can be found on a customer's contact view and in a
  special "Unreturned Containers" menu under Sales.
- Calculates and automatically adds the containers needed to hold the
  to-purchase meals on the purchase page, and applies a discount depending on
  the customer's current stored deposit.

**Table of contents**

.. contents::
   :local:

Usage
=====

For proper function of this module, you need to at least:

- Create one or more container product templates by enabling "Is Container?" on
  a product.
- Set a deposit product in the Sale settings.
- And create meal products, of course.

Known issues / Roadmap
======================

- Support differing units of measurement.
- Better support for changing the deposit product.

Changelog
=========

14.0.1.1.0 (2022-05-09)
~~~~~~~~~~~~~~~~~~~~~~~

**Bugfixes**

- The deposit discount can now be greater than the price total of the containers
  in an order, but never greater than the total of the order itself. Previously,
  only the price total of the containers was given as a discount. (`#224 <https://github.com/coopiteasy/addons/issues/224>`_)

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/coopiteasy/addons/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/coopiteasy/addons/issues/new?body=module:%20container_meals%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Coop IT Easy SC

Contributors
~~~~~~~~~~~~

* `Coop IT Easy SC <https://coopiteasy.be>`_:

  * Carmen Bianca Bakker

Maintainers
~~~~~~~~~~~

This module is part of the `coopiteasy/addons <https://github.com/coopiteasy/addons/tree/14.0/container_meals>`_ project on GitHub.

You are welcome to contribute.
